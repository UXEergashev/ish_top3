<!DOCTYPE html>
<html lang="uz">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ish beruvchi Dashboard - TrustID</title>
    <meta name="description"
        content="TrustID - Ish beruvchi boshqaruv paneli. Ishlarni e'lon qiling, murojaatlarni ko'ring.">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="worker-new.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
</head>

<body class="dashboard-body">
    <!-- Mobile Hamburger -->
    <button class="mobile-menu-btn" id="mobileMenuBtn" onclick="toggleMobileSidebar()">&#9776;</button>
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleMobileSidebar()"></div>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="mainSidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <svg width="36" height="36" viewBox="0 0 40 40" fill="none">
                        <circle cx="20" cy="20" r="18" fill="url(#gradient1)" />
                        <path d="M20 10L25 15H22V25H18V15H15L20 10Z" fill="white" />
                        <path d="M12 28H28V30H12V28Z" fill="white" />
                        <defs>
                            <linearGradient id="gradient1" x1="0" y1="0" x2="40" y2="40">
                                <stop offset="0%" stop-color="#6366f1" />
                                <stop offset="100%" stop-color="#8b5cf6" />
                            </linearGradient>
                        </defs>
                    </svg>
                    <span class="logo-text">TrustID</span>
                </div>
                <div
                    style="font-size:0.72rem;color:#a5b4fc;margin-top:0.5rem;padding:0.35rem 0.75rem;background:rgba(99,102,241,0.15);border-radius:1rem;border:1px solid rgba(99,102,241,0.3);text-align:center;">
                    üè¢ Ish beruvchi
                </div>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" onclick="showSection('dashboard')" id="nav-dashboard">
                    <span class="nav-icon">üìä</span>
                    <span>Bosh sahifa</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('post-job')" id="nav-post-job">
                    <span class="nav-icon">‚ûï</span>
                    <span>Ish e'lon qilish</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('my-jobs')" id="nav-my-jobs">
                    <span class="nav-icon">üíº</span>
                    <span>Mening ishlarim</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('applicants')" id="nav-applicants">
                    <span class="nav-icon">üë•</span>
                    <span>Murojaatlar</span>
                    <span class="nav-badge" id="applicantsBadge" style="display:none">0</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('contracts')" id="nav-contracts">
                    <span class="nav-icon">üìÑ</span>
                    <span>Shartnomalar</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('payments')" id="nav-payments">
                    <span class="nav-icon">üí≥</span>
                    <span>To'lovlar</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('history')" id="nav-history">
                    <span class="nav-icon">üìö</span>
                    <span>Tarix</span>
                </a>
            </nav>
            <div class="sidebar-footer">
                <button class="btn-danger" onclick="logout()" style="width:100%;margin-top:0.5rem;">
                    <span>üö™</span> Chiqish
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="dashboard-header">
                <div class="header-left">
                    <h1 id="pageTitle">Bosh sahifa</h1>
                    <p class="header-subtitle" id="pageSubtitle">Bugungi ko'rsatkichlar</p>
                </div>
                <div class="header-right">
                    <div class="balance-card">
                        <span class="balance-label">Depozit:</span>
                        <span class="balance-value" id="userBalance">0 so'm</span>
                    </div>
                    <div class="user-avatar" id="userAvatar" style="position:relative;">
                        <span id="userInitials">?</span>
                        <div class="online-indicator"></div>
                    </div>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section id="section-dashboard" class="content-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background:rgba(99,102,241,0.2);">üìã</div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalJobs">0</div>
                            <div class="stat-label">Jami ishlar</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background:rgba(245,158,11,0.2);">‚è≥</div>
                        <div class="stat-info">
                            <div class="stat-value" id="activeJobs">0</div>
                            <div class="stat-label">Faol ishlar</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background:rgba(16,185,129,0.2);">‚úÖ</div>
                        <div class="stat-info">
                            <div class="stat-value" id="completedJobs">0</div>
                            <div class="stat-label">Tugallangan</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background:rgba(236,72,153,0.2);">üë•</div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalApplicants">0</div>
                            <div class="stat-label">Murojaatlar</div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="employer-quick-actions">
                    <button class="employer-quick-btn" onclick="showSection('post-job')">
                        <span style="font-size:2rem;">‚ûï</span>
                        <span>Ish e'lon qilish</span>
                    </button>
                    <button class="employer-quick-btn" onclick="showSection('applicants')">
                        <span style="font-size:2rem;">üë•</span>
                        <span>Murojaatlar</span>
                    </button>
                    <button class="employer-quick-btn" onclick="showSection('contracts')">
                        <span style="font-size:2rem;">üìÑ</span>
                        <span>Shartnomalar</span>
                    </button>
                    <button class="employer-quick-btn" onclick="showSection('my-jobs')">
                        <span style="font-size:2rem;">üíº</span>
                        <span>Mening ishlarim</span>
                    </button>
                </div>

                <div class="card">
                    <h2 class="card-title">So'nggi murojaatlar</h2>
                    <div id="recentApplicants"></div>
                </div>
            </section>

            <!-- Post Job Section -->
            <section id="section-post-job" class="content-section">
                <div class="card">
                    <h2 class="card-title">Yangi ish e'lon qilish</h2>
                    <form id="postJobForm" class="profile-form">
                        <div class="form-grid">
                            <div class="form-group full-width">
                                <label>Ish nomi *</label>
                                <input type="text" id="jobTitle" required placeholder="Masalan: Qurilish ustasi kerak">
                            </div>
                            <div class="form-group full-width">
                                <label>Tavsif *</label>
                                <textarea id="jobDescription" rows="4" required
                                    placeholder="Ish haqida batafsil ma'lumot..."></textarea>
                            </div>
                            <div class="form-group">
                                <label>Kategoriya *</label>
                                <select id="jobCategory" required>
                                    <option value="">Tanlang</option>
                                    <option value="Qurilish">Qurilish</option>
                                    <option value="Elektrik">Elektrik</option>
                                    <option value="Santexnik">Santexnik</option>
                                    <option value="Bog'dorchilik">Bog'dorchilik</option>
                                    <option value="Duradgorlik">Duradgorlik</option>
                                    <option value="Oshpazlik">Oshpazlik</option>
                                    <option value="Boshqa">Boshqa</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Ish haqi (so'm) *</label>
                                <input type="number" id="jobSalary" required min="0" placeholder="5000000">
                            </div>
                            <div class="form-group">
                                <label>Joylashuv *</label>
                                <input type="text" id="jobLocation" required placeholder="Toshkent, Yunusobod">
                            </div>
                            <div class="form-group">
                                <label>Muddat *</label>
                                <input type="text" id="jobDuration" required placeholder="2 oy">
                            </div>
                            <div class="form-group full-width employer-checkbox-card escrow-card">
                                <input type="checkbox" id="escrowRequired">
                                <label for="escrowRequired">
                                    üõ°Ô∏è <strong>Escrow (Kafolatli to'lov)</strong> ‚Äî Pul platformada saqlanadi va ish
                                    tugagach avtomatik to'lanadi
                                </label>
                            </div>
                            <div class="form-group full-width employer-checkbox-card urgent-card">
                                <input type="checkbox" id="urgentJob">
                                <label for="urgentJob">
                                    ‚ö° <strong>Tezkor ish</strong> ‚Äî E'loningiz yuqorida ko'rinadi
                                </label>
                            </div>
                            <div class="form-group full-width">
                                <label>Talablar (har bir qatorga bitta talab)</label>
                                <textarea id="jobRequirements" rows="3"
                                    placeholder="3+ yil tajriba&#10;Sertifikat&#10;Mexanizmlar bilan ishlash"></textarea>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary"
                            style="width:100%;justify-content:center;margin-top:1rem;">
                            üì¢ E'lon qilish
                        </button>
                    </form>
                </div>
            </section>

            <!-- My Jobs Section -->
            <section id="section-my-jobs" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title" style="margin-bottom:0;">Mening ishlarim</h2>
                        <button class="btn-primary btn-small" onclick="showSection('post-job')">+ Yangi</button>
                    </div>
                    <div id="myJobsList"></div>
                </div>
            </section>

            <!-- Applicants Section -->
            <section id="section-applicants" class="content-section">
                <div class="card">
                    <h2 class="card-title">Barcha murojaatlar</h2>
                    <div id="allApplicantsList"></div>
                </div>
            </section>

            <!-- Contracts Section -->
            <section id="section-contracts" class="content-section">
                <div class="card">
                    <h2 class="card-title">Shartnomalar</h2>
                    <div id="contractsList"></div>
                </div>
            </section>

            <!-- Payments Section -->
            <section id="section-payments" class="content-section">
                <div class="card">
                    <h2 class="card-title">To'lovlar tarixi</h2>
                    <div id="paymentsList"></div>
                </div>
            </section>

            <!-- History Section -->
            <section id="section-history" class="content-section">
                <div class="card">
                    <h2 class="card-title">Tugallangan ishlar</h2>
                    <div id="historyList"></div>
                </div>
            </section>
        </main>
    </div>

    <!-- Mobile Bottom Navigation (Employer) -->
    <nav class="mobile-bottom-nav" id="mobileBottomNav">
        <a href="#" class="bottom-nav-item active" onclick="showSection('dashboard')" id="bnav-dashboard">
            <span class="bottom-nav-icon">üìä</span>
            <span class="bottom-nav-label">Asosiy</span>
        </a>
        <a href="#" class="bottom-nav-item" onclick="showSection('post-job')" id="bnav-post-job">
            <span class="bottom-nav-icon">‚ûï</span>
            <span class="bottom-nav-label">E'lon</span>
        </a>
        <a href="#" class="bottom-nav-item" onclick="showSection('applicants')" id="bnav-applicants">
            <span class="bottom-nav-icon">üë•</span>
            <span class="bottom-nav-label">Murojaat</span>
        </a>
        <a href="#" class="bottom-nav-item" onclick="showSection('contracts')" id="bnav-contracts">
            <span class="bottom-nav-icon">üìÑ</span>
            <span class="bottom-nav-label">Shartnoma</span>
        </a>
        <a href="#" class="bottom-nav-item" onclick="showSection('my-jobs')" id="bnav-my-jobs">
            <span class="bottom-nav-icon">üíº</span>
            <span class="bottom-nav-label">Ishlarim</span>
        </a>
    </nav>

    <!-- Toast -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="employer-dashboard.js"></script>
</body>

</html>